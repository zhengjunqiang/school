# 福建信息职业技术学院教案（补充完整版）
|课程名称|嵌入式操作系统及应用|嵌入式操作系统及应用|授课日期||
|---|---|---|---|---|
|班    级|物联网2411|物联网2412|物联网2411|物联网2412|
|课堂类型|一体化|一体化|一体化|一体化|
|教    材|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|
|章节名称|基础开发<br/>ADC按键检测|基础开发<br/>ADC按键检测|基础开发<br/>ADC按键检测|基础开发<br/>ADC按键检测|
|**目的要求**|1. 知识目标：<br/>  - 理解ADC（模数转换）基本原理（10位精度、0~3.3V采集范围）；<br/>  - 掌握核心API（`adc_dev_init()`初始化、`adc_get_voltage()`获取电压）功能；<br/>  - 明确电压计算逻辑（实际电压=ADC采集值/1024×3.3V）。<br/>2. 技能目标：<br/>  - 能创建`b0_adc`文件夹，编写ADC按键检测代码（初始化+电压采集）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口查看电压日志。<br/>3. 素养目标：<br/>  - 通过国产开发板ADC在智能设备（如按键检测、传感器采集）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解ADC（模数转换）基本原理（10位精度、0~3.3V采集范围）；<br/>  - 掌握核心API（`adc_dev_init()`初始化、`adc_get_voltage()`获取电压）功能；<br/>  - 明确电压计算逻辑（实际电压=ADC采集值/1024×3.3V）。<br/>2. 技能目标：<br/>  - 能创建`b0_adc`文件夹，编写ADC按键检测代码（初始化+电压采集）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口查看电压日志。<br/>3. 素养目标：<br/>  - 通过国产开发板ADC在智能设备（如按键检测、传感器采集）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解ADC（模数转换）基本原理（10位精度、0~3.3V采集范围）；<br/>  - 掌握核心API（`adc_dev_init()`初始化、`adc_get_voltage()`获取电压）功能；<br/>  - 明确电压计算逻辑（实际电压=ADC采集值/1024×3.3V）。<br/>2. 技能目标：<br/>  - 能创建`b0_adc`文件夹，编写ADC按键检测代码（初始化+电压采集）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口查看电压日志。<br/>3. 素养目标：<br/>  - 通过国产开发板ADC在智能设备（如按键检测、传感器采集）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解ADC（模数转换）基本原理（10位精度、0~3.3V采集范围）；<br/>  - 掌握核心API（`adc_dev_init()`初始化、`adc_get_voltage()`获取电压）功能；<br/>  - 明确电压计算逻辑（实际电压=ADC采集值/1024×3.3V）。<br/>2. 技能目标：<br/>  - 能创建`b0_adc`文件夹，编写ADC按键检测代码（初始化+电压采集）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口查看电压日志。<br/>3. 素养目标：<br/>  - 通过国产开发板ADC在智能设备（如按键检测、传感器采集）的应用，强化民族自豪感与科技报国情怀。|
|**学情分析**|1. 基础：已掌握任务创建、PWM硬件控制，具备C语言浮点计算基础，但对ADC引脚复用（GPIO0_PC5转SRADC5）、寄存器配置认知薄弱；<br/>2. 难点：易忽略电压计算的浮点精度（如1024.0的小数标识），混淆ADC初始化的引脚对应；<br/>3. 需求：需通过硬件引脚图解、计算错误演示降低难度。|1. 基础：已掌握任务创建、PWM硬件控制，具备C语言浮点计算基础，但对ADC引脚复用（GPIO0_PC5转SRADC5）、寄存器配置认知薄弱；<br/>2. 难点：易忽略电压计算的浮点精度（如1024.0的小数标识），混淆ADC初始化的引脚对应；<br/>3. 需求：需通过硬件引脚图解、计算错误演示降低难度。|1. 基础：已掌握任务创建、PWM硬件控制，具备C语言浮点计算基础，但对ADC引脚复用（GPIO0_PC5转SRADC5）、寄存器配置认知薄弱；<br/>2. 难点：易忽略电压计算的浮点精度（如1024.0的小数标识），混淆ADC初始化的引脚对应；<br/>3. 需求：需通过硬件引脚图解、计算错误演示降低难度。|1. 基础：已掌握任务创建、PWM硬件控制，具备C语言浮点计算基础，但对ADC引脚复用（GPIO0_PC5转SRADC5）、寄存器配置认知薄弱；<br/>2. 难点：易忽略电压计算的浮点精度（如1024.0的小数标识），混淆ADC初始化的引脚对应；<br/>3. 需求：需通过硬件引脚图解、计算错误演示降低难度。|
|**重 难 点<br/>分    析**|1. 重点：<br/>  - API应用：`adc_dev_init()`（初始化ADC引脚与端口）、`adc_get_voltage()`（采集并计算电压）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_adc:adc_example`，`Makefile`添加`-ladc_example`；<br/>  - 结果验证：串口观察“周期性打印电压（如3.297V）”。<br/>2. 难点：<br/>  - 硬件配置：ADC引脚复用（GPIO0_PC5复用为SRADC5）的底层逻辑；<br/>  - 数据计算：ADC采集值转电压的浮点精度控制（避免整数除法）。|1. 重点：<br/>  - API应用：`adc_dev_init()`（初始化ADC引脚与端口）、`adc_get_voltage()`（采集并计算电压）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_adc:adc_example`，`Makefile`添加`-ladc_example`；<br/>  - 结果验证：串口观察“周期性打印电压（如3.297V）”。<br/>2. 难点：<br/>  - 硬件配置：ADC引脚复用（GPIO0_PC5复用为SRADC5）的底层逻辑；<br/>  - 数据计算：ADC采集值转电压的浮点精度控制（避免整数除法）。|1. 重点：<br/>  - API应用：`adc_dev_init()`（初始化ADC引脚与端口）、`adc_get_voltage()`（采集并计算电压）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_adc:adc_example`，`Makefile`添加`-ladc_example`；<br/>  - 结果验证：串口观察“周期性打印电压（如3.297V）”。<br/>2. 难点：<br/>  - 硬件配置：ADC引脚复用（GPIO0_PC5复用为SRADC5）的底层逻辑；<br/>  - 数据计算：ADC采集值转电压的浮点精度控制（避免整数除法）。|1. 重点：<br/>  - API应用：`adc_dev_init()`（初始化ADC引脚与端口）、`adc_get_voltage()`（采集并计算电压）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_adc:adc_example`，`Makefile`添加`-ladc_example`；<br/>  - 结果验证：串口观察“周期性打印电压（如3.297V）”。<br/>2. 难点：<br/>  - 硬件配置：ADC引脚复用（GPIO0_PC5复用为SRADC5）的底层逻辑；<br/>  - 数据计算：ADC采集值转电压的浮点精度控制（避免整数除法）。|
|信息化应用方法|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|
|思政元素<br/>融合设计|思政元素|融入方式|融入方式|融入方式|
||民族自豪感、<br/>科技报国情怀|1. 讲解小凌派-RK2206 ADC在国产智能设备（如便携式电压检测仪、按键控制家电）的应用，说明国产开发板对ADC外设的本土化适配优势；<br/>2. 对比国外开发板ADC驱动的封闭性，强调鸿蒙系统“外设接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 ADC在国产智能设备（如便携式电压检测仪、按键控制家电）的应用，说明国产开发板对ADC外设的本土化适配优势；<br/>2. 对比国外开发板ADC驱动的封闭性，强调鸿蒙系统“外设接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 ADC在国产智能设备（如便携式电压检测仪、按键控制家电）的应用，说明国产开发板对ADC外设的本土化适配优势；<br/>2. 对比国外开发板ADC驱动的封闭性，强调鸿蒙系统“外设接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|
|**作业布置**|1. 实操任务：<br/>  - 修改代码：添加按键检测逻辑（电压低于3.0V时打印“按键按下”），提交代码与串口日志截图；<br/>  - 优化采集：将电压采集周期改为2秒，验证ADC周期性采集的稳定性。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设UART通信”章节，了解`IoTUartInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：添加按键检测逻辑（电压低于3.0V时打印“按键按下”），提交代码与串口日志截图；<br/>  - 优化采集：将电压采集周期改为2秒，验证ADC周期性采集的稳定性。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设UART通信”章节，了解`IoTUartInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：添加按键检测逻辑（电压低于3.0V时打印“按键按下”），提交代码与串口日志截图；<br/>  - 优化采集：将电压采集周期改为2秒，验证ADC周期性采集的稳定性。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设UART通信”章节，了解`IoTUartInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：添加按键检测逻辑（电压低于3.0V时打印“按键按下”），提交代码与串口日志截图；<br/>  - 优化采集：将电压采集周期改为2秒，验证ADC周期性采集的稳定性。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设UART通信”章节，了解`IoTUartInit()`基本功能，为下次课程铺垫。|
|参考资料|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|


|教学环节|教学内容|教师活动|学生活动|设计意图|
|---|---|---|---|---|
|课前|预习（30分钟）|1. 上传预习资料：<br/>  - ADC模数转换动画视频（10位精度直观演示）；<br/>  - 小凌派-RK2206 ADC引脚（GPIO0_PC5）实物图解；<br/>2. 发布任务：标注`adc_get_voltage()`的电压计算逻辑，记录“10位精度为什么对应1024”的疑问。|1. 观看视频，记录ADC引脚位置；<br/>2. 提交预习疑问，在平台互动。|提前铺垫ADC硬件与计算基础，降低课中理解难度。|
|课中|课程介绍（5min）|1. 明确目标：掌握ADC API与按键检测，理解国产开发板外设优势；<br/>2. 串联逻辑：从“ADC按键应用”到“代码实现”，融入思政目标。|1. 记录核心目标；<br/>2. 提问“ADC还能检测什么传感器”。|清晰学习方向，激发外设开发兴趣。|
||任务导入（10min）|1. 演示实验效果：串口展示“未按按键时电压3.297V，按下后降至2.8V并打印提示”的日志；<br/>2. 提问：“如何通过ADC电压变化判断按键状态？ADC初始化需要配置哪些硬件？”|1. 观察电压变化规律；<br/>2. 分组讨论，初步梳理“初始化→采集→判断”流程。|用直观效果激发探索欲，聚焦ADC按键检测核心逻辑。|
||知识储备（15min）|1. 讲解核心知识：<br/>  - ADC原理：10位精度（0~1023）、0~3.3V采集范围；<br/>  - API解析：`adc_dev_init()`（引脚复用+端口初始化）、`adc_get_voltage()`（采集+电压计算）；<br/>  - 计算逻辑：强调1024.0的小数标识（避免整数除法）；<br/>2. 思政融入：穿插国产ADC应用案例（如智能按键遥控器）。|1. 记录电压计算公式；<br/>2. 标注引脚复用的关键步骤。|夯实理论，结合硬件细节降低抽象难度。|
||任务导入（5min）|1. 明确实操任务：创建`b0_adc`文件夹，编写ADC按键检测代码；<br/>2. 强调易错点：浮点计算精度、引脚对应关系。|1. 记录实操步骤；<br/>2. 标注“1024.0不能写成1024”。|明确任务边界，减少操作失误。|
||知识储备（10min）|1. 补充细节：<br/>  - 代码结构：`adc_example()`创建任务，`adc_task()`实现“初始化→循环采集→判断”；<br/>  - 配置语法：`BUILD.gn`与`Makefile`的库名、路径匹配；<br/>2. 错误演示：将1024.0改为1024，展示电压计算错误（如3.3V变成0V）。|1. 记录代码模板；<br/>2. 练习根据日志排查计算错误。|补充实操细节，提升问题解决能力。|
||任务实施（40min）|1. 分步演示+指导：<br/>  ① 创建`b0_adc`文件夹；<br/>  ② 编写代码（含ADC初始化、电压采集、按键判断）；<br/>  ③ 修改`BUILD.gn`和`Makefile`；<br/>  ④ 烧写验证（按按键观察电压变化）；<br/>2. 重点帮扶：解决引脚配置错误、计算精度问题。|1. 跟随操作，每步自查；<br/>2. 遇错先排查计算/引脚，再求助；<br/>3. 成功后拍照记录按键触发日志。|通过实操突破重点，针对性解决难点。|
||任务总结（5min）|1. 梳理流程：代码→配置→烧写→按键验证；<br/>2. 强化重点：引脚复用、浮点计算；<br/>3. 思政升华：国产开发板ADC外设的自主可控优势。|1. 补充流程笔记；<br/>2. 分享实操心得。|巩固知识，深化思政认知。|
|作业|实操+预习|1. 在学习通发布作业：明确代码命名、截图要求；<br/>2. 提示下次课重点：UART通信。|1. 记录作业要求；<br/>2. 规划完成时间。|验收成果，铺垫后续课程。|
|课后|资源推送+答疑|1. 上传PPT、实操视频、错误排查手册；<br/>2. 24小时内回复问题，汇总高频错误（如计算精度、引脚对应）。|1. 下载资源复盘；<br/>2. 提交疑问，查看解答。|提供复习支持，帮助查漏补缺。|