# 福建信息职业技术学院教案（补充完整版）
|课程名称|嵌入式操作系统及应用|嵌入式操作系统及应用|授课日期||
|---|---|---|---|---|
|班    级|物联网2411|物联网2412|物联网2411|物联网2412|
|课堂类型|一体化|一体化|一体化|一体化|
|教    材|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|
|章节名称|基础开发<br/>UDP通信|基础开发<br/>UDP通信|基础开发<br/>UDP通信|基础开发<br/>UDP通信|
|**目的要求**|1. 知识目标：<br/>  - 理解UDP通信原理（无连接、不可靠传输，基于数据报）；<br/>  - 掌握核心API（`socket(SOCK_DGRAM)`创建UDP套接字、`sendto()`发送、`recvfrom()`接收）功能；<br/>  - 明确UDP与TCP的差异（无需`listen()`/`accept()`，无连接）。<br/>2. 技能目标：<br/>  - 能创建`b8_wifi_udp`文件夹，编写UDP客户端/服务端代码；<br/>  - 独立配置WiFi、修改`BUILD.gn`/`Makefile`，通过网络调试助手验证通信效果。<br/>3. 素养目标：<br/>  - 通过国产开发板UDP通信在实时场景（如传感器数据上报）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解UDP通信原理（无连接、不可靠传输，基于数据报）；<br/>  - 掌握核心API（`socket(SOCK_DGRAM)`创建UDP套接字、`sendto()`发送、`recvfrom()`接收）功能；<br/>  - 明确UDP与TCP的差异（无需`listen()`/`accept()`，无连接）。<br/>2. 技能目标：<br/>  - 能创建`b8_wifi_udp`文件夹，编写UDP客户端/服务端代码；<br/>  - 独立配置WiFi、修改`BUILD.gn`/`Makefile`，通过网络调试助手验证通信效果。<br/>3. 素养目标：<br/>  - 通过国产开发板UDP通信在实时场景（如传感器数据上报）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解UDP通信原理（无连接、不可靠传输，基于数据报）；<br/>  - 掌握核心API（`socket(SOCK_DGRAM)`创建UDP套接字、`sendto()`发送、`recvfrom()`接收）功能；<br/>  - 明确UDP与TCP的差异（无需`listen()`/`accept()`，无连接）。<br/>2. 技能目标：<br/>  - 能创建`b8_wifi_udp`文件夹，编写UDP客户端/服务端代码；<br/>  - 独立配置WiFi、修改`BUILD.gn`/`Makefile`，通过网络调试助手验证通信效果。<br/>3. 素养目标：<br/>  - 通过国产开发板UDP通信在实时场景（如传感器数据上报）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解UDP通信原理（无连接、不可靠传输，基于数据报）；<br/>  - 掌握核心API（`socket(SOCK_DGRAM)`创建UDP套接字、`sendto()`发送、`recvfrom()`接收）功能；<br/>  - 明确UDP与TCP的差异（无需`listen()`/`accept()`，无连接）。<br/>2. 技能目标：<br/>  - 能创建`b8_wifi_udp`文件夹，编写UDP客户端/服务端代码；<br/>  - 独立配置WiFi、修改`BUILD.gn`/`Makefile`，通过网络调试助手验证通信效果。<br/>3. 素养目标：<br/>  - 通过国产开发板UDP通信在实时场景（如传感器数据上报）的应用，强化民族自豪感与科技报国情怀。|
|**学情分析**|1. 基础：已掌握TCP通信与WiFi配置，具备网络编程基础，但对UDP无连接特性、API参数（`sendto()`的目标地址）认知薄弱；<br/>2. 难点：易混淆UDP与TCP的流程（如UDP服务端无需`listen()`），忽略`recvfrom()`的地址参数；<br/>3. 需求：需通过TCP-UDP对比演示、API参数拆解降低难度。|1. 基础：已掌握TCP通信与WiFi配置，具备网络编程基础，但对UDP无连接特性、API参数（`sendto()`的目标地址）认知薄弱；<br/>2. 难点：易混淆UDP与TCP的流程（如UDP服务端无需`listen()`），忽略`recvfrom()`的地址参数；<br/>3. 需求：需通过TCP-UDP对比演示、API参数拆解降低难度。|1. 基础：已掌握TCP通信与WiFi配置，具备网络编程基础，但对UDP无连接特性、API参数（`sendto()`的目标地址）认知薄弱；<br/>2. 难点：易混淆UDP与TCP的流程（如UDP服务端无需`listen()`），忽略`recvfrom()`的地址参数；<br/>3. 需求：需通过TCP-UDP对比演示、API参数拆解降低难度。|1. 基础：已掌握TCP通信与WiFi配置，具备网络编程基础，但对UDP无连接特性、API参数（`sendto()`的目标地址）认知薄弱；<br/>2. 难点：易混淆UDP与TCP的流程（如UDP服务端无需`listen()`），忽略`recvfrom()`的地址参数；<br/>3. 需求：需通过TCP-UDP对比演示、API参数拆解降低难度。|
|**重 难 点<br/>分    析**|1. 重点：<br/>  - WiFi配置：复用TCP的`config_network.c`修改SSID/密码，确保同局域网；<br/>  - API应用：UDP客户端（`socket()`→`bind()`→`sendto()`）、服务端（`socket()`→`bind()`→`recvfrom()`）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b8_wifi_udp:wifi_udp_example`，`Makefile`添加`-lwifi_udp_example`。<br/>2. 难点：<br/>  - 通信逻辑：UDP无连接特性（无需建立连接，直接收发数据）；<br/>  - 与TCP差异：无`listen()`/`accept()`，`sendto()`需指定目标地址。|1. 重点：<br/>  - WiFi配置：复用TCP的`config_network.c`修改SSID/密码，确保同局域网；<br/>  - API应用：UDP客户端（`socket()`→`bind()`→`sendto()`）、服务端（`socket()`→`bind()`→`recvfrom()`）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b8_wifi_udp:wifi_udp_example`，`Makefile`添加`-lwifi_udp_example`。<br/>2. 难点：<br/>  - 通信逻辑：UDP无连接特性（无需建立连接，直接收发数据）；<br/>  - 与TCP差异：无`listen()`/`accept()`，`sendto()`需指定目标地址。|1. 重点：<br/>  - WiFi配置：复用TCP的`config_network.c`修改SSID/密码，确保同局域网；<br/>  - API应用：UDP客户端（`socket()`→`bind()`→`sendto()`）、服务端（`socket()`→`bind()`→`recvfrom()`）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b8_wifi_udp:wifi_udp_example`，`Makefile`添加`-lwifi_udp_example`。<br/>2. 难点：<br/>  - 通信逻辑：UDP无连接特性（无需建立连接，直接收发数据）；<br/>  - 与TCP差异：无`listen()`/`accept()`，`sendto()`需指定目标地址。|1. 重点：<br/>  - WiFi配置：复用TCP的`config_network.c`修改SSID/密码，确保同局域网；<br/>  - API应用：UDP客户端（`socket()`→`bind()`→`sendto()`）、服务端（`socket()`→`bind()`→`recvfrom()`）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b8_wifi_udp:wifi_udp_example`，`Makefile`添加`-lwifi_udp_example`。<br/>2. 难点：<br/>  - 通信逻辑：UDP无连接特性（无需建立连接，直接收发数据）；<br/>  - 与TCP差异：无`listen()`/`accept()`，`sendto()`需指定目标地址。|
|信息化应用方法|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|
|思政元素<br/>融合设计|思政元素|融入方式|融入方式|融入方式|
||民族自豪感、<br/>科技报国情怀|1. 讲解小凌派-RK2206 UDP通信在国产实时监控设备（如传感器数据实时上报）、智能家居控制中的应用，说明其对低延迟场景的适配优势；<br/>2. 对比国外开发板UDP驱动的兼容性问题，强调鸿蒙系统“网络协议栈自主、WiFi驱动可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 UDP通信在国产实时监控设备（如传感器数据实时上报）、智能家居控制中的应用，说明其对低延迟场景的适配优势；<br/>2. 对比国外开发板UDP驱动的兼容性问题，强调鸿蒙系统“网络协议栈自主、WiFi驱动可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 UDP通信在国产实时监控设备（如传感器数据实时上报）、智能家居控制中的应用，说明其对低延迟场景的适配优势；<br/>2. 对比国外开发板UDP驱动的兼容性问题，强调鸿蒙系统“网络协议栈自主、WiFi驱动可控”的价值，引导学生认同国产嵌入式生态。|
|**作业布置**|1. 实操任务：<br/>  - 修改代码：将UDP服务端端口改为9999，实现“开发板客户端发送传感器模拟数据（如“temp:25℃”），PC服务端回复确认”，提交代码与调试助手截图；<br/>  - 对比验证：分别用UDP和TCP传输相同数据，记录两者的延迟差异。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙MQTT通信”章节，了解`MQTTClient_Init()`基本功能。|1. 实操任务：<br/>  - 修改代码：将UDP服务端端口改为9999，实现“开发板客户端发送传感器模拟数据（如“temp:25℃”），PC服务端回复确认”，提交代码与调试助手截图；<br/>  - 对比验证：分别用UDP和TCP传输相同数据，记录两者的延迟差异。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙MQTT通信”章节，了解`MQTTClient_Init()`基本功能。|1. 实操任务：<br/>  - 修改代码：将UDP服务端端口改为9999，实现“开发板客户端发送传感器模拟数据（如“temp:25℃”），PC服务端回复确认”，提交代码与调试助手截图；<br/>  - 对比验证：分别用UDP和TCP传输相同数据，记录两者的延迟差异。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙MQTT通信”章节，了解`MQTTClient_Init()`基本功能。|1. 实操任务：<br/>  - 修改代码：将UDP服务端端口改为9999，实现“开发板客户端发送传感器模拟数据（如“temp:25℃”），PC服务端回复确认”，提交代码与调试助手截图；<br/>  - 对比验证：分别用UDP和TCP传输相同数据，记录两者的延迟差异。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙MQTT通信”章节，了解`MQTTClient_Init()`基本功能。|
|参考资料|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|


|教学环节|教学内容|教师活动|学生活动|设计意图|
|---|---|---|---|---|
|课前|预习（30分钟）|1. 上传预习资料：<br/>  - UDP与TCP通信对比表、UDP数据报传输动画；<br/>  - `sendto()`/`recvfrom()`参数图解；<br/>2. 发布任务：标注`sendto()`的目标地址参数，记录“UDP为何无需三次握手”的疑问。|1. 观看动画，记录TCP-UDP差异；<br/>2. 提交预习疑问，在平台互动。|提前铺垫UDP特性与API基础，降低课中理解难度。|
|课中|课程介绍（5min）|1. 明确目标：掌握UDP通信与TCP差异，理解国产开发板实时通信优势；<br/>2. 串联逻辑：从“低延迟通信需求”到“UDP实现”，融入思政目标。|1. 记录核心目标；<br/>2. 提问“哪些场景适合用UDP通信”。|清晰学习方向，激发实时通信开发兴趣。|
||任务导入（10min）|1. 演示两组对比实验：<br/>  - 实验1（UDP）：开发板与PC直接收发数据，无连接建立过程，延迟低；<br/>  - 实验2（TCP）：需先建立连接，延迟略高；<br/>2. 提问：“UDP为何无需建立连接？两种协议的适用场景有何不同？”|1. 观察通信延迟与流程差异；<br/>2. 分组讨论，梳理“UDP套接字创建→收发数据”流程。|用对比实验凸显UDP无连接优势，聚焦核心逻辑。|
||知识储备（15min）|1. 讲解核心知识：<br/>  - UDP原理：无连接、不可靠，基于数据报（类比“短信”）；<br/>  - API解析：`socket(AF_INET, SOCK_DGRAM, 0)`（UDP套接字）、`sendto()`（指定目标地址发送）、`recvfrom()`（接收并获取源地址）；<br/>  - 与TCP差异：无`listen()`/`accept()`，无需维护连接；<br/>2. 思政融入：穿插国产实时设备（鸿蒙UDP驱动）应用案例，对比国外技术依赖。|1. 绘制“UDP-TCP差异表”；<br/>2. 标注`sendto()`的目标地址参数。|夯实理论，结合类比降低抽象难度。|
||任务导入（5min）|1. 明确实操任务：创建`b8_wifi_udp`文件夹，编写UDP通信代码；<br/>2. 强调易错点：`sendto()`需指定正确的PC IP/端口，UDP服务端无需`listen()`。|1. 记录实操步骤；<br/>2. 标注“IP与端口必须匹配PC调试助手配置”。|明确任务边界，减少代码与配置失误。|
||知识储备（10min）|1. 补充细节：<br/>  - 代码结构：`wifi_udp_client()`绑定本地端口→发送，`wifi_udp_server()`绑定端口→接收；<br/>  - 配置语法：`BUILD.gn`与`Makefile`的库名、路径匹配；<br/>2. 错误演示：`sendto()`目标IP错误，展示“发送成功但无接收”日志。|1. 记录代码模板（如`struct sockaddr_in`初始化）；<br/>2. 练习根据日志排查IP/端口问题。|补充实操细节，提升问题解决能力。|
||任务实施（40min）|1. 分步演示+指导：<br/>  ① 创建`b8_wifi_udp`文件夹；<br/>  ② 复用TCP的WiFi配置（确认SSID/密码正确）；<br/>  ③ 编写UDP客户端/服务端代码；<br/>  ④ 修改`BUILD.gn`和`Makefile`，烧写验证；<br/>  ⑤ 用网络调试助手建立通信，互发数据；<br/>2. 重点帮扶：解决`sendto()`参数错误、IP不匹配、与TCP流程混淆问题。|1. 跟随操作，每步自查（WiFi配置、IP匹配）；<br/>2. 遇错先排查日志，再求助；<br/>3. 成功后用调试助手收发数据，截图记录。|通过实操突破重点，针对性解决难点。|
||任务总结（5min）|1. 梳理流程：WiFi配置→代码编写→编译烧写→UDP通信验证；<br/>2. 强化重点：UDP无连接特性、与TCP的核心差异；<br/>3. 思政升华：国产开发板在实时UDP通信中的自主应用价值。|1. 补充流程笔记；<br/>2. 分享实操心得（如“UDP发送后无需等待连接，直接收到回复”）。|巩固知识，深化思政认知。|
|作业|实操+预习|1. 在学习通发布作业：明确代码命名、调试助手截图要求；<br/>2. 提示下次课重点：MQTT通信。|1. 记录作业要求；<br/>2. 规划完成时间。|验收成果，铺垫后续课程。|
|课后|资源推送+答疑|1. 上传PPT、实操视频、错误排查手册；<br/>2. 24小时内回复问题，汇总高频错误（如`sendto()`目标地址错、端口不匹配）。|1. 下载资源复盘；<br/>2. 提交疑问，查看解答。|提供复习支持，帮助查漏补缺。|