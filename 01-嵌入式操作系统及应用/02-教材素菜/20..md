# 福建信息职业技术学院教案（补充完整版）
|课程名称|嵌入式操作系统及应用|嵌入式操作系统及应用|授课日期||
|---|---|---|---|---|
|班    级|物联网2411|物联网2412|物联网2411|物联网2412|
|课堂类型|一体化|一体化|一体化|一体化|
|教    材|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|
|章节名称|基础开发<br/>GPIO控制|基础开发<br/>GPIO控制|基础开发<br/>GPIO控制|基础开发<br/>GPIO控制|
|**目的要求**|1. 知识目标：<br/>  - 理解GPIO（通用输入输出）工作原理（引脚复用、输入/输出模式）；<br/>  - 掌握核心API（`LzGpioInit()`初始化、`LzGpioSetDir()`设方向、`LzGpioSetVal()`/`LzGpioGetVal()`读写电平）功能；<br/>  - 明确GPIO引脚（如GPIO0_PA0）的配置逻辑。<br/>2. 技能目标：<br/>  - 能创建`b9_gpio`文件夹，编写GPIO输入输出代码；<br/>  - 独立修改`BUILD.gn`/`Makefile`，通过串口验证GPIO电平读写效果。<br/>3. 素养目标：<br/>  - 通过国产开发板GPIO在智能设备（如LED控制、按键检测）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解GPIO（通用输入输出）工作原理（引脚复用、输入/输出模式）；<br/>  - 掌握核心API（`LzGpioInit()`初始化、`LzGpioSetDir()`设方向、`LzGpioSetVal()`/`LzGpioGetVal()`读写电平）功能；<br/>  - 明确GPIO引脚（如GPIO0_PA0）的配置逻辑。<br/>2. 技能目标：<br/>  - 能创建`b9_gpio`文件夹，编写GPIO输入输出代码；<br/>  - 独立修改`BUILD.gn`/`Makefile`，通过串口验证GPIO电平读写效果。<br/>3. 素养目标：<br/>  - 通过国产开发板GPIO在智能设备（如LED控制、按键检测）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解GPIO（通用输入输出）工作原理（引脚复用、输入/输出模式）；<br/>  - 掌握核心API（`LzGpioInit()`初始化、`LzGpioSetDir()`设方向、`LzGpioSetVal()`/`LzGpioGetVal()`读写电平）功能；<br/>  - 明确GPIO引脚（如GPIO0_PA0）的配置逻辑。<br/>2. 技能目标：<br/>  - 能创建`b9_gpio`文件夹，编写GPIO输入输出代码；<br/>  - 独立修改`BUILD.gn`/`Makefile`，通过串口验证GPIO电平读写效果。<br/>3. 素养目标：<br/>  - 通过国产开发板GPIO在智能设备（如LED控制、按键检测）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解GPIO（通用输入输出）工作原理（引脚复用、输入/输出模式）；<br/>  - 掌握核心API（`LzGpioInit()`初始化、`LzGpioSetDir()`设方向、`LzGpioSetVal()`/`LzGpioGetVal()`读写电平）功能；<br/>  - 明确GPIO引脚（如GPIO0_PA0）的配置逻辑。<br/>2. 技能目标：<br/>  - 能创建`b9_gpio`文件夹，编写GPIO输入输出代码；<br/>  - 独立修改`BUILD.gn`/`Makefile`，通过串口验证GPIO电平读写效果。<br/>3. 素养目标：<br/>  - 通过国产开发板GPIO在智能设备（如LED控制、按键检测）的应用，强化民族自豪感与科技报国情怀。|
|**学情分析**|1. 基础：已掌握UDP/TCP通信，具备C语言电平逻辑认知，但对GPIO引脚复用、模式切换陌生；<br/>2. 难点：易混淆`PinctrlSet()`的复用参数，忽略输入输出模式切换顺序；<br/>3. 需求：需通过引脚实物图、模式切换演示降低难度。|1. 基础：已掌握UDP/TCP通信，具备C语言电平逻辑认知，但对GPIO引脚复用、模式切换陌生；<br/>2. 难点：易混淆`PinctrlSet()`的复用参数，忽略输入输出模式切换顺序；<br/>3. 需求：需通过引脚实物图、模式切换演示降低难度。|1. 基础：已掌握UDP/TCP通信，具备C语言电平逻辑认知，但对GPIO引脚复用、模式切换陌生；<br/>2. 难点：易混淆`PinctrlSet()`的复用参数，忽略输入输出模式切换顺序；<br/>3. 需求：需通过引脚实物图、模式切换演示降低难度。|1. 基础：已掌握UDP/TCP通信，具备C语言电平逻辑认知，但对GPIO引脚复用、模式切换陌生；<br/>2. 难点：易混淆`PinctrlSet()`的复用参数，忽略输入输出模式切换顺序；<br/>3. 需求：需通过引脚实物图、模式切换演示降低难度。|
|**重 难 点<br/>分    析**|1. 重点：<br/>  - API应用：`LzGpioInit(GPIO0_PA0)`初始化、`LzGpioSetDir()`设输入/输出、`LzGpioSetVal()`写电平（0/1）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b9_gpio:gpio_example`，`Makefile`添加`-lgpio_example`；<br/>  - 结果验证：串口观察“GPIO写0→读0，写1→读1”的电平匹配。<br/>2. 难点：<br/>  - 引脚配置：`PinctrlSet()`的复用功能（`MUX_FUNC0`为GPIO模式）；<br/>  - 模式切换：先设方向再读写电平，避免顺序错误导致的读取失败。|1. 重点：<br/>  - API应用：`LzGpioInit(GPIO0_PA0)`初始化、`LzGpioSetDir()`设输入/输出、`LzGpioSetVal()`写电平（0/1）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b9_gpio:gpio_example`，`Makefile`添加`-lgpio_example`；<br/>  - 结果验证：串口观察“GPIO写0→读0，写1→读1”的电平匹配。<br/>2. 难点：<br/>  - 引脚配置：`PinctrlSet()`的复用功能（`MUX_FUNC0`为GPIO模式）；<br/>  - 模式切换：先设方向再读写电平，避免顺序错误导致的读取失败。|1. 重点：<br/>  - API应用：`LzGpioInit(GPIO0_PA0)`初始化、`LzGpioSetDir()`设输入/输出、`LzGpioSetVal()`写电平（0/1）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b9_gpio:gpio_example`，`Makefile`添加`-lgpio_example`；<br/>  - 结果验证：串口观察“GPIO写0→读0，写1→读1”的电平匹配。<br/>2. 难点：<br/>  - 引脚配置：`PinctrlSet()`的复用功能（`MUX_FUNC0`为GPIO模式）；<br/>  - 模式切换：先设方向再读写电平，避免顺序错误导致的读取失败。|1. 重点：<br/>  - API应用：`LzGpioInit(GPIO0_PA0)`初始化、`LzGpioSetDir()`设输入/输出、`LzGpioSetVal()`写电平（0/1）；<br/>  - 编译配置：修改`BUILD.gn`添加`./b9_gpio:gpio_example`，`Makefile`添加`-lgpio_example`；<br/>  - 结果验证：串口观察“GPIO写0→读0，写1→读1”的电平匹配。<br/>2. 难点：<br/>  - 引脚配置：`PinctrlSet()`的复用功能（`MUX_FUNC0`为GPIO模式）；<br/>  - 模式切换：先设方向再读写电平，避免顺序错误导致的读取失败。|
|信息化应用方法|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|
|思政元素<br/>融合设计|思政元素|融入方式|融入方式|融入方式|
||民族自豪感、<br/>科技报国情怀|1. 讲解小凌派-RK2206 GPIO在国产智能家居（如LED灯光控制）、工业传感器（按键触发）的应用，说明国产开发板对GPIO外设的本土化适配优势；<br/>2. 对比国外开发板GPIO驱动的封闭性，强调鸿蒙系统“GPIO接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 GPIO在国产智能家居（如LED灯光控制）、工业传感器（按键触发）的应用，说明国产开发板对GPIO外设的本土化适配优势；<br/>2. 对比国外开发板GPIO驱动的封闭性，强调鸿蒙系统“GPIO接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 GPIO在国产智能家居（如LED灯光控制）、工业传感器（按键触发）的应用，说明国产开发板对GPIO外设的本土化适配优势；<br/>2. 对比国外开发板GPIO驱动的封闭性，强调鸿蒙系统“GPIO接口开源、底层可控”的价值，引导学生认同国产嵌入式生态。|
|**作业布置**|1. 实操任务：<br/>  - 修改代码：将GPIO引脚改为GPIO0_PA1，实现“5秒切换一次电平”，提交代码与串口日志截图；<br/>  - 拓展功能：添加GPIO输入检测（如接按键，电平变低时打印“按键按下”）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙PWM与GPIO结合”章节，了解“PWM调光+GPIO按键控制”的实现思路。|1. 实操任务：<br/>  - 修改代码：将GPIO引脚改为GPIO0_PA1，实现“5秒切换一次电平”，提交代码与串口日志截图；<br/>  - 拓展功能：添加GPIO输入检测（如接按键，电平变低时打印“按键按下”）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙PWM与GPIO结合”章节，了解“PWM调光+GPIO按键控制”的实现思路。|1. 实操任务：<br/>  - 修改代码：将GPIO引脚改为GPIO0_PA1，实现“5秒切换一次电平”，提交代码与串口日志截图；<br/>  - 拓展功能：添加GPIO输入检测（如接按键，电平变低时打印“按键按下”）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙PWM与GPIO结合”章节，了解“PWM调光+GPIO按键控制”的实现思路。|1. 实操任务：<br/>  - 修改代码：将GPIO引脚改为GPIO0_PA1，实现“5秒切换一次电平”，提交代码与串口日志截图；<br/>  - 拓展功能：添加GPIO输入检测（如接按键，电平变低时打印“按键按下”）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙PWM与GPIO结合”章节，了解“PWM调光+GPIO按键控制”的实现思路。|
|参考资料|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|


|教学环节|教学内容|教师活动|学生活动|设计意图|
|---|---|---|---|---|
|课前|预习（30分钟）|1. 上传预习资料：<br/>  - GPIO引脚实物图（标注GPIO0_PA0位置）、输入输出模式动画；<br/>  - 核心API参数图解；<br/>2. 发布任务：标注`LzGpioSetDir()`的模式参数，记录“引脚复用是什么”的疑问。|1. 观看动画，记录GPIO引脚位置；<br/>2. 提交预习疑问，在平台互动。|提前铺垫GPIO硬件与API基础，降低课中理解难度。|
|课中|课程介绍（5min）|1. 明确目标：掌握GPIO输入输出控制，理解国产开发板硬件适配优势；<br/>2. 串联逻辑：从“GPIO控制需求”到“代码实现”，融入思政目标。|1. 记录核心目标；<br/>2. 提问“GPIO还能控制哪些外设”。|清晰学习方向，激发硬件控制兴趣。|
||任务导入（10min）|1. 演示实验效果：<br/>  - 开发板GPIO0_PA0设为输出，串口打印“写0→读0，写1→读1”；<br/>  - 设为输入，读取外部电平并打印；<br/>2. 提问：“如何切换GPIO的输入/输出模式？引脚复用有什么用？”|1. 观察串口日志与GPIO电平变化；<br/>2. 分组讨论，梳理“初始化→设方向→读写电平”流程。|用直观硬件效果激发探索欲，聚焦GPIO核心逻辑。|
||知识储备（15min）|1. 讲解核心知识：<br/>  - GPIO原理：通用输入输出，可切换模式（类比“双向开关”）；<br/>  - API解析：`LzGpioInit()`（初始化引脚）、`LzGpioSetDir()`（`LZGPIO_DIR_IN`/`OUT`）、`LzGpioSetVal()`/`GetVal()`（读写电平）；<br/>  - 引脚复用：`PinctrlSet()`设`MUX_FUNC0`为GPIO模式；<br/>2. 思政融入：穿插国产LED控制器（鸿蒙GPIO驱动）应用案例，对比国外技术依赖。|1. 绘制“GPIO控制流程图”；<br/>2. 标注API关键参数。|夯实理论，结合类比降低抽象难度。|
||任务导入（5min）|1. 明确实操任务：创建`b9_gpio`文件夹，编写GPIO输入输出代码；<br/>2. 强调易错点：`PinctrlSet()`的复用参数、先设方向再读写电平。|1. 记录实操步骤；<br/>2. 标注“复用参数不能错选其他功能”。|明确任务边界，减少代码与配置失误。|
||知识储备（10min）|1. 补充细节：<br/>  - 代码结构：`gpio_process()`实现初始化→输出→输入→读写；<br/>  - 配置语法：`BUILD.gn`与`Makefile`的库名、路径匹配；<br/>2. 错误演示：未设方向直接读电平，展示“读取失败”日志。|1. 记录代码模板；<br/>2. 练习根据日志排查模式切换错误。|补充实操细节，提升问题解决能力。|
||任务实施（40min）|1. 分步演示+指导：<br/>  ① 创建`b9_gpio`文件夹；<br/>  ② 编写代码（初始化GPIO0_PA0→设输出→写电平→设输入→读电平）；<br/>  ③ 修改`BUILD.gn`和`Makefile`；<br/>  ④ 烧写验证，观察串口日志；<br/>2. 重点帮扶：解决引脚复用参数错误、模式切换顺序问题。|1. 跟随操作，每步自查（引脚配置、模式顺序）；<br/>2. 遇错先排查日志，再求助；<br/>3. 成功后截图记录串口电平信息。|通过实操突破重点，针对性解决难点。|
||任务总结（5min）|1. 梳理流程：代码→配置→烧写→GPIO验证；<br/>2. 强化重点：GPIO模式切换、引脚复用配置；<br/>3. 思政升华：国产开发板在GPIO硬件控制中的自主应用价值。|1. 补充流程笔记；<br/>2. 分享实操心得（如“先设方向再读电平才会成功”）。|巩固知识，深化思政认知。|
|作业|实操+预习|1. 在学习通发布作业：明确代码命名、串口截图要求；<br/>2. 提示下次课重点：GPIO与PWM结合应用。|1. 记录作业要求；<br/>2. 规划完成时间。|验收成果，铺垫后续课程。|
|课后|资源推送+答疑|1. 上传PPT、实操视频、错误排查手册；<br/>2. 24小时内回复问题，汇总高频错误（如复用参数错、模式切换顺序错）。|1. 下载资源复盘；<br/>2. 提交疑问，查看解答。|提供复习支持，帮助查漏补缺。|