# 福建信息职业技术学院教案（补充完整版）
|课程名称|嵌入式操作系统及应用|嵌入式操作系统及应用|授课日期||
|---|---|---|---|---|
|班    级|物联网2411|物联网2412|物联网2411|物联网2412|
|课堂类型|一体化|一体化|一体化|一体化|
|教    材|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|OpenHarmony嵌入式系统原理与应用——基于RK2206芯片|
|章节名称|基础开发<br/>NFC标签|基础开发<br/>NFC标签|基础开发<br/>NFC标签|基础开发<br/>NFC标签|
|**目的要求**|1. 知识目标：<br/>  - 理解NFC标签工作原理（基于I2C通信，依赖GPIO引脚复用）；<br/>  - 掌握核心API（`nfc_init()`初始化、`nfc_store_uri_http()`写URI、`nfc_store_text()`写文本）功能；<br/>  - 明确I2C引脚对应（GPIO0_PC1=I2C1_SDA，GPIO0_PC2=I2C1_SCL）。<br/>2. 技能目标：<br/>  - 能创建`b0_nfc`文件夹，编写NFC标签控制代码（I2C初始化+数据写入）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口+手机验证NFC功能。<br/>3. 素养目标：<br/>  - 通过国产开发板NFC在智能场景（如近场支付、设备配对）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解NFC标签工作原理（基于I2C通信，依赖GPIO引脚复用）；<br/>  - 掌握核心API（`nfc_init()`初始化、`nfc_store_uri_http()`写URI、`nfc_store_text()`写文本）功能；<br/>  - 明确I2C引脚对应（GPIO0_PC1=I2C1_SDA，GPIO0_PC2=I2C1_SCL）。<br/>2. 技能目标：<br/>  - 能创建`b0_nfc`文件夹，编写NFC标签控制代码（I2C初始化+数据写入）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口+手机验证NFC功能。<br/>3. 素养目标：<br/>  - 通过国产开发板NFC在智能场景（如近场支付、设备配对）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解NFC标签工作原理（基于I2C通信，依赖GPIO引脚复用）；<br/>  - 掌握核心API（`nfc_init()`初始化、`nfc_store_uri_http()`写URI、`nfc_store_text()`写文本）功能；<br/>  - 明确I2C引脚对应（GPIO0_PC1=I2C1_SDA，GPIO0_PC2=I2C1_SCL）。<br/>2. 技能目标：<br/>  - 能创建`b0_nfc`文件夹，编写NFC标签控制代码（I2C初始化+数据写入）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口+手机验证NFC功能。<br/>3. 素养目标：<br/>  - 通过国产开发板NFC在智能场景（如近场支付、设备配对）的应用，强化民族自豪感与科技报国情怀。|1. 知识目标：<br/>  - 理解NFC标签工作原理（基于I2C通信，依赖GPIO引脚复用）；<br/>  - 掌握核心API（`nfc_init()`初始化、`nfc_store_uri_http()`写URI、`nfc_store_text()`写文本）功能；<br/>  - 明确I2C引脚对应（GPIO0_PC1=I2C1_SDA，GPIO0_PC2=I2C1_SCL）。<br/>2. 技能目标：<br/>  - 能创建`b0_nfc`文件夹，编写NFC标签控制代码（I2C初始化+数据写入）；<br/>  - 独立修改`BUILD.gn`和`Makefile`完成编译，烧写后通过串口+手机验证NFC功能。<br/>3. 素养目标：<br/>  - 通过国产开发板NFC在智能场景（如近场支付、设备配对）的应用，强化民族自豪感与科技报国情怀。|
|**学情分析**|1. 基础：已掌握ADC、PWM硬件控制，具备C语言bool类型判断基础，但对I2C通信协议、NFC模块初始化逻辑认知薄弱；<br/>2. 难点：易混淆I2C引脚复用对应关系，忽略`nfc_store_*`函数的`RecordPosEnu`参数含义；<br/>3. 需求：需通过I2C引脚图解、API参数示例降低理解难度。|1. 基础：已掌握ADC、PWM硬件控制，具备C语言bool类型判断基础，但对I2C通信协议、NFC模块初始化逻辑认知薄弱；<br/>2. 难点：易混淆I2C引脚复用对应关系，忽略`nfc_store_*`函数的`RecordPosEnu`参数含义；<br/>3. 需求：需通过I2C引脚图解、API参数示例降低理解难度。|1. 基础：已掌握ADC、PWM硬件控制，具备C语言bool类型判断基础，但对I2C通信协议、NFC模块初始化逻辑认知薄弱；<br/>2. 难点：易混淆I2C引脚复用对应关系，忽略`nfc_store_*`函数的`RecordPosEnu`参数含义；<br/>3. 需求：需通过I2C引脚图解、API参数示例降低理解难度。|1. 基础：已掌握ADC、PWM硬件控制，具备C语言bool类型判断基础，但对I2C通信协议、NFC模块初始化逻辑认知薄弱；<br/>2. 难点：易混淆I2C引脚复用对应关系，忽略`nfc_store_*`函数的`RecordPosEnu`参数含义；<br/>3. 需求：需通过I2C引脚图解、API参数示例降低理解难度。|
|**重 难 点<br/>分    析**|1. 重点：<br/>  - API应用：`nfc_init()`（I2C+NFC初始化）、`nfc_store_uri_http()`（写HTTP地址）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_nfc:nfc_example`，`Makefile`添加`-lnfc_example`；<br/>  - 结果验证：串口打印“请贴近NFC手机”，手机贴近后读取到写入的URI/文本。<br/>2. 难点：<br/>  - 硬件配置：I2C引脚复用（GPIO0_PC1/SCL、GPIO0_PC2/SDA）的底层逻辑；<br/>  - 数据写入：`RecordPosEnu`参数（如`RECORD_POS_FIRST`）的正确配置。|1. 重点：<br/>  - API应用：`nfc_init()`（I2C+NFC初始化）、`nfc_store_uri_http()`（写HTTP地址）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_nfc:nfc_example`，`Makefile`添加`-lnfc_example`；<br/>  - 结果验证：串口打印“请贴近NFC手机”，手机贴近后读取到写入的URI/文本。<br/>2. 难点：<br/>  - 硬件配置：I2C引脚复用（GPIO0_PC1/SCL、GPIO0_PC2/SDA）的底层逻辑；<br/>  - 数据写入：`RecordPosEnu`参数（如`RECORD_POS_FIRST`）的正确配置。|1. 重点：<br/>  - API应用：`nfc_init()`（I2C+NFC初始化）、`nfc_store_uri_http()`（写HTTP地址）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_nfc:nfc_example`，`Makefile`添加`-lnfc_example`；<br/>  - 结果验证：串口打印“请贴近NFC手机”，手机贴近后读取到写入的URI/文本。<br/>2. 难点：<br/>  - 硬件配置：I2C引脚复用（GPIO0_PC1/SCL、GPIO0_PC2/SDA）的底层逻辑；<br/>  - 数据写入：`RecordPosEnu`参数（如`RECORD_POS_FIRST`）的正确配置。|1. 重点：<br/>  - API应用：`nfc_init()`（I2C+NFC初始化）、`nfc_store_uri_http()`（写HTTP地址）；<br/>  - 编译配置：修改`vendor/lockzhiner/rk2206/sample/BUILD.gn`添加`./b0_nfc:nfc_example`，`Makefile`添加`-lnfc_example`；<br/>  - 结果验证：串口打印“请贴近NFC手机”，手机贴近后读取到写入的URI/文本。<br/>2. 难点：<br/>  - 硬件配置：I2C引脚复用（GPIO0_PC1/SCL、GPIO0_PC2/SDA）的底层逻辑；<br/>  - 数据写入：`RecordPosEnu`参数（如`RECORD_POS_FIRST`）的正确配置。|
|信息化应用方法|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|网络教学平台、视频、开发板，开展现场教学，通过项目任务驱动进行混合式教学；|
|思政元素<br/>融合设计|思政元素|融入方式|融入方式|融入方式|
||民族自豪感、<br/>科技报国情怀|1. 讲解小凌派-RK2206 NFC在国产智能设备（如校园一卡通读卡器、物联网设备近场配对）的应用，说明国产开发板对NFC外设的本土化适配优势；<br/>2. 对比国外开发板NFC驱动的专利依赖，强调鸿蒙系统“外设接口开源、核心技术自主”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 NFC在国产智能设备（如校园一卡通读卡器、物联网设备近场配对）的应用，说明国产开发板对NFC外设的本土化适配优势；<br/>2. 对比国外开发板NFC驱动的专利依赖，强调鸿蒙系统“外设接口开源、核心技术自主”的价值，引导学生认同国产嵌入式生态。|1. 讲解小凌派-RK2206 NFC在国产智能设备（如校园一卡通读卡器、物联网设备近场配对）的应用，说明国产开发板对NFC外设的本土化适配优势；<br/>2. 对比国外开发板NFC驱动的专利依赖，强调鸿蒙系统“外设接口开源、核心技术自主”的价值，引导学生认同国产嵌入式生态。|
|**作业布置**|1. 实操任务：<br/>  - 修改代码：用`nfc_store_text()`写入“Hello IoT24XX”，手机贴近验证文本读取，提交代码与手机截图；<br/>  - 优化功能：添加`nfc_deinit()`注销逻辑，验证NFC模块注销后的状态（串口打印提示）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设SPI通信”章节，了解`IoTSpiInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：用`nfc_store_text()`写入“Hello IoT24XX”，手机贴近验证文本读取，提交代码与手机截图；<br/>  - 优化功能：添加`nfc_deinit()`注销逻辑，验证NFC模块注销后的状态（串口打印提示）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设SPI通信”章节，了解`IoTSpiInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：用`nfc_store_text()`写入“Hello IoT24XX”，手机贴近验证文本读取，提交代码与手机截图；<br/>  - 优化功能：添加`nfc_deinit()`注销逻辑，验证NFC模块注销后的状态（串口打印提示）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设SPI通信”章节，了解`IoTSpiInit()`基本功能，为下次课程铺垫。|1. 实操任务：<br/>  - 修改代码：用`nfc_store_text()`写入“Hello IoT24XX”，手机贴近验证文本读取，提交代码与手机截图；<br/>  - 优化功能：添加`nfc_deinit()`注销逻辑，验证NFC模块注销后的状态（串口打印提示）。<br/>2. 预习任务：<br/>  - 阅读参考资料中“鸿蒙外设SPI通信”章节，了解`IoTSpiInit()`基本功能，为下次课程铺垫。|
|参考资料|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|1.《OpenHarmony嵌入式系统原理与应用——基于RK2206芯片》<br/>2. https://gitee.com/Lockzhiner-Electronics/lockzhiner-rk2206-openharmony3.0lts.git|


|教学环节|教学内容|教师活动|学生活动|设计意图|
|---|---|---|---|---|
|课前|预习（30分钟）|1. 上传预习资料：<br/>  - NFC近场通信动画视频（I2C数据传输演示）；<br/>  - 小凌派-RK2206 I2C引脚（GPIO0_PC1/PC2）实物图解；<br/>2. 发布任务：标注`nfc_store_uri_http()`的参数含义，记录“NFC为什么依赖I2C”的疑问。|1. 观看视频，记录I2C引脚对应关系；<br/>2. 提交预习疑问，在平台互动。|提前铺垫NFC与I2C基础，降低课中硬件认知难度。|
|课中|课程介绍（5min）|1. 明确目标：掌握NFC API与标签控制，理解国产开发板近场通信优势；<br/>2. 串联逻辑：从“NFC应用场景”到“代码实现”，融入思政目标。|1. 记录核心目标；<br/>2. 提问“NFC还能用于哪些智能场景”。|清晰学习方向，激发近场通信开发兴趣。|
||任务导入（10min）|1. 演示实验效果：<br/>  - 串口打印“请用带NFC功能的手机贴近开发板”；<br/>  - 用手机贴近开发板，读取到预设的HTTP地址；<br/>2. 提问：“如何通过代码实现NFC数据写入？I2C在其中起什么作用？”|1. 观察串口日志与手机读取效果；<br/>2. 分组讨论问题，初步梳理“I2C初始化→NFC数据写入→手机验证”流程。|用直观交互效果激发探索欲，聚焦NFC与I2C的关联逻辑。|
||知识储备（15min）|1. 讲解核心知识：<br/>  - NFC原理：基于I2C通信的近场数据交互，依赖引脚复用；<br/>  - API解析：`nfc_init()`（I2C+NFC初始化）、`nfc_store_uri_http()`（`position`=信息标识，`http`=地址字符串）；<br/>  - 硬件对应：展示I2C引脚复用代码（`I2cIoInit()`配置GPIO0_PC1/PC2）；<br/>2. 思政融入：穿插国产NFC设备（如国产POS机）应用案例，对比国外技术依赖。|1. 记录API参数表格；<br/>2. 标注I2C引脚配置的关键代码。|夯实理论，结合硬件代码降低抽象难度。|
||任务导入（5min）|1. 明确实操任务：创建`b0_nfc`文件夹，编写NFC标签控制代码；<br/>2. 强调易错点：I2C引脚对应关系、`RecordPosEnu`参数取值（如`RECORD_POS_FIRST`）。|1. 记录实操步骤；<br/>2. 标注“GPIO0_PC1不能错接为其他引脚”。|明确任务边界，减少操作失误。|
||知识储备（10min）|1. 补充细节：<br/>  - 代码结构：`nfc_example()`创建任务，`nfc_task()`实现“I2C初始化→NFC数据写入→串口提示”；<br/>  - 配置语法：`BUILD.gn`与`Makefile`的库名、路径匹配；<br/>2. 错误演示：接错I2C引脚，展示`I2cIoInit()`失败日志。|1. 记录代码模板；<br/>2. 练习根据日志排查引脚错误。|补充实操细节，提升问题解决能力。|
||任务实施（40min）|1. 分步演示+指导：<br/>  ① 创建`b0_nfc`文件夹；<br/>  ② 编写代码（含I2C初始化、NFC写URI、串口提示）；<br/>  ③ 修改`BUILD.gn`和`Makefile`；<br/>  ④ 烧写验证（串口查看提示，手机贴近读取URI）；<br/>2. 重点帮扶：解决I2C引脚配置错误、API参数取值问题。|1. 跟随操作，每步自查；<br/>2. 遇错先排查引脚/参数，再求助；<br/>3. 成功后用手机验证，拍照记录读取结果。|通过实操突破重点，针对性解决难点。|
||任务总结（5min）|1. 梳理流程：代码→配置→烧写→手机验证；<br/>2. 强化重点：I2C引脚复用、NFC数据写入API；<br/>3. 思政升华：国产开发板NFC技术在智能终端的自主应用价值。|1. 补充流程笔记；<br/>2. 分享实操心得（如“手机贴近时需对准开发板NFC模块”）。|巩固知识，深化思政认知。|
|作业|实操+预习|1. 在学习通发布作业：明确代码命名、手机截图要求；<br/>2. 提示下次课重点：SPI通信。|1. 记录作业要求；<br/>2. 规划完成时间。|验收成果，铺垫后续课程。|
|课后|资源推送+答疑|1. 上传PPT、实操视频、错误排查手册；<br/>2. 24小时内回复问题，汇总高频错误（如I2C引脚错接、参数取值错误）。|1. 下载资源复盘；<br/>2. 提交疑问，查看解答。|提供复习支持，帮助查漏补缺。|